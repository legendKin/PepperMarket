<!doctype html>
<html xmlns:th="http://www.thymeleaf.org">
  <header th:fragment="header">
    <div class="header-wrapper">
      <div class="header-box">
        <div class="header-1">
          <div class="header-notification">
            <a class="header1" href="#">
              <i class="far fa-bell icon"></i>
              <div class="badg">나의 알림</div>
            </a>
          </div>
          <div class="header-chat">
            <a class="header1" href="/chat">
              <i class="far fa-comment icon"></i>
              <div class="badg">채팅</div>
            </a>
          </div>
          <div class="header-profile">
            <!--                            로그인시        -->
            <div
              class="dropdown"
              th:unless="${#authentication.name == 'anonymousUser'}"
            >
              <a
                aria-expanded="false"
                class="header1 dropdown-toggle"
                data-bs-toggle="dropdown"
                id="dropdownMenuButton"
                type="button"
              >
                <img alt="프사" class="profile-img" th:src="@{${profilepic}}" />
                <p class="profile-name badg" th:text="${nickname}"></p>
              </a>
              <div
                aria-labelledby="dropdownMenuButton"
                class="dropdown-menu dropdown-menu-end"
              >
                <a class="dropdown-item" href="/mypage">마이 페이지</a>
                <a class="dropdown-item" href="#">메뉴2</a>
                <hr class="dropdown-divider" />
                <a class="dropdown-item" href="/logout">로그아웃</a>
              </div>
            </div>

            <!--                            비로그인시       -->
            <a
              class="header1"
              href="/login"
              th:if="${#authentication.name == 'anonymousUser'}"
            >
              <div class="badg">로그인/회원가입</div>
            </a>
          </div>
        </div>
        <div class="header-2">
          <div class="logo">
            <a href="/"><img alt="" src="/img/logodummy.png" /></a>
          </div>
          <div class="search-box-wrapper">
            <form method="get" th:action="@{/board/list}">
              <!--카테고리 -->
              <div class="form-group mb-3 search-cate">
                <select
                  class="form-select"
                  id="categ"
                  name="searchCateID"
                  required
                >
                  <option value=" ">전체 카테고리</option>
                  <th:block th:each="board, iterStat : ${categList}">
                    <option
                      th:text="${board}"
                      th:value="${iterStat.index + 1}"
                    ></option>
                  </th:block>
                  <!--                <option value="none" selected>전체 검색</option>-->
                  <!--                <option value="1">남성의류</option>-->
                  <!--                <option value="2">여성의류</option>-->
                  <!--                <option value="3">잡화</option>-->
                  <!--                <option value="4">디지털</option>-->
                  <!--                <option value="5">취미/게임</option>-->
                  <!--                <option value="6">가구/인테리어</option>-->
                  <!--                <option value="7">반려동물/식물</option>-->
                  <!--                <option value="8">스포츠/레저</option>-->
                </select>
                <div class="invalid-feedback">카테고리를 선택하세요.</div>
              </div>
              <div class="search-box">
                <button type="submit">
                  <i class="fas fa-search dotbogi"></i>
                </button>
                <!-- 검색어 입력 폼 -->
                <input
                  class="search"
                  name="searchKeyword"
                  placeholder="어떤 상품을 찾으시나요?"
                  required
                  th:value="${searchKeyword}"
                  type="text"
                />
              </div>
            </form>
          </div>
          <div class="upload-wrapper">
            <a class="btn btn-primary write" href="/board/write" role="button">
              <p>
                <i aria-hidden="true" class="fas fa-pen-square"> &nbsp; </i>
                상품 올리기
              </p>
            </a>
          </div>
        </div>
        <div class="header-3">
          <div class="menu-box">
            <div class="menu">
              <a href="/board/list">전체글보기</a>
            </div>
          </div>
        </div>
      </div>
      <div class="header-underline"></div>
    </div>
  </header>
</html>
